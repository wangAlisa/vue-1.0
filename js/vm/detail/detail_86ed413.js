define("js/vm/detail/detail",function(i){var r=i("js/util/util");i("js/filter/filter");var n=Vue.extend({template:'\r\n<section class="product">\r\n	<div class="image-part">\r\n		<img v-if="data.src" v-bind:src="\'img/item/\' + src" alt="">\r\n		<h1>{{data.title}}</h1>\r\n		<p>{{data.description}}</p>\r\n	</div>\r\n	<div class = "detaiMsg">\r\n		<div class = "color">\r\n			<label >{{data.color}}</label>\r\n			<img v-for = "item in data.picture" v-bind:src = "\'img/icon/\'+item.src" v-bind:style = "{\'border\' : color[item.id]}" v-on:click = "clickImg">\r\n		</div>\r\n		<div class = "size">\r\n			<label >{{data.size}}</label>\r\n			<span v-for = "item in data.age" v-bind:style="{\'border\' : age[item.id]}" v-on:click = "clickAge" >{{item.age}}岁</span>\r\n		</div>\r\n		\r\n		<div class = "saleNum">\r\n				<span class = "productNum">{{data.sales | sales}}</span>\r\n				<span class = "productNum">购买数量 ：</span>\r\n				<span v-on:click = "clickDown"> - </span>\r\n				<span class = "num">{{num}}</span>\r\n				<span  v-on:click = "clickUp"> + </span>\r\n		</div>\r\n\r\n	</div>\r\n	<div class="price-part">\r\n		<span class="price">{{data.price}}</span>\r\n		<span class="sign">元</span>\r\n		<span class="origin">\r\n		<strike> {{data.orignPrice | orignPrice}}</strike>\r\n		</span>\r\n		<a href="">\r\n			<span class="buy" v-on:click = "buyClick">立即购买</span>\r\n		</a>\r\n	</div>\r\n	<ul class="sale-part clearfix" >\r\n		<li v-on:click = "clickSalePart1" >简介</li>\r\n		<li v-on:click = "clickSalePart2" >详情</li>\r\n	</ul>\r\n\r\n	<div  id = "showDetail">\r\n		<ul>\r\n			<li v-for ="item in data.picture">\r\n				<img v-bind:src="\'img/item/\' + item.src " alt=""/>\r\n			</li>\r\n		</ul>\r\n\r\n	</div>\r\n		\r\n	\r\n	<div id = "showSummary">\r\n		<div class="store-part part">\r\n			<div class="headers">店家信息</div>\r\n			<div class="body">\r\n				<p>{{data.storeName}}</p>\r\n				<p>{{data.storeAddress}}</p>\r\n			</div>\r\n			<div class="footers">查看{{data.storeNum}}家分店</div>\r\n		</div>\r\n		<div class="buy-part part">\r\n			<div class="headers">购买须知</div>\r\n				<div class="body">\r\n					<ul>\r\n						<li>\r\n							<h3>有效期</h3>\r\n							<p>{{data.validateTime}}</p>\r\n						</li>\r\n						<li>\r\n							<h3>使用时间</h3>\r\n							<p>{{data.useTime}}</p>\r\n						</li>\r\n						<li>\r\n							<h3>使用规则</h3>\r\n							<p v-for="item in data.rules">{{item}}</p>\r\n						</li>\r\n					</ul>\r\n				</div>\r\n			</div>\r\n		</div>\r\n\r\n</section>',data:function(){return{data:{},age:[],color:[],num:1,src:"01.jpg"}},created:function(){this.$parent.showSearch=!1,this.$parent.showTitle=!0,this.$parent.showNav=!1;var i=this,n=(this.$parent.query[1],"data/product.json");r.ajax(n,function(r){r&&0===r.errno&&(i.data=r.data)})},methods:{buyClick:function(){},clickImg:function(i){var r=[],n=[],e=i.target.src;console.log(e),i.target.src.slice(-5).slice(0,1)-1==0&&(n[i.target.src.slice(-5).slice(0,1)]="1px solid red",this.age=r,this.color=n,this.src=i.target.src.slice(-6)),i.target.src.slice(-5).slice(0,1)-1==1&&(r[2]="1px dashed #666",r[3]="1px dashed #666",n[i.target.src.slice(-5).slice(0,1)]="1px solid red",this.age=r,this.color=n,this.src=i.target.src.slice(-6)),i.target.src.slice(-5).slice(0,1)-1==2&&(r[1]="1px dashed #666",n[i.target.src.slice(-5).slice(0,1)]="1px solid red",this.age=r,this.color=n,this.src=i.target.src.slice(-6))},clickAge:function(i){var r=i.target.innerHTML;console.log(r);var n=[],e=parseInt(i.target.innerHTML.slice(0,1)/2+1);n[e]="1px solid blue",this.age=n},clickDown:function(i){+i.target.nextSibling.nextSibling.innerHTML<=0||(i.target.nextSibling.nextSibling.innerHTML=+i.target.nextSibling.nextSibling.innerHTML-1)},clickUp:function(i){i.target.previousSibling.previousSibling.innerHTML=+i.target.previousSibling.previousSibling.innerHTML+1},clickSalePart1:function(i){var r=document.getElementById("showDetail"),n=document.getElementById("showSummary");r.style.display="block",n.style.display="none",i.target.style.color="red",i.target.nextSibling.nextSibling.style.color="black"},clickSalePart2:function(i){var r=document.getElementById("showDetail"),n=document.getElementById("showSummary");r.style.display="none",n.style.display="block",i.target.style.color="red",i.target.previousSibling.previousSibling.style.color="black"}}});Vue.component("detail",n)});